---
title: "Final Edited"
author: "Abby Sikora"
format: 
  html:
    embed-resources: true
---
Question: 
Did South Carolina deserve the win over Iowa in the NCAA National Championship for women's basketball?

Iowa Dataset

```{r}
#Iowa
url2 <- "https://www.espn.com/womens-college-basketball/team/stats/_/id/2294/iowa-hawkeyes"

h2 <- read_html(url2)

tab2 <- h2 |> html_nodes("table")


iowa_df <- tab2[[2]] |> html_table(fill = TRUE)

iowa_df

#South Carolina

url3 <- "https://www.espn.com/womens-college-basketball/team/stats/_/id/2579/south-carolina-gamecocks"

h3 <- read_html(url3)

tab3 <- h3 |> html_nodes("table")


sc_df <- tab3[[2]] |> html_table(fill = TRUE)

sc_df
```
(Going to manually enter this into excel and add names column I can't figure out why r is separating the table from itself)

These data sets includes variables:

(NAME: Name of player) - working on this
GP: Games played
MIN: Minutes played per game
PTS: Points per game
REB: Rebounds per game
AST: Assists per game
STL: Steals per game
BLK: Blocks per game
TO: Turnovers per game
FG%: Field Goal percentage 
FT%: Free throw percentage

First, let's compare points per game between the teams. To make this data even, we will only look at the top ten players for each team because they have a different amount of players. 

```{r}
library(pander)

summary_iowa <- iowa_df |> 
  arrange(desc(MIN)) |>
  slice(1:10) |>
  summarize(points_avg = mean(PTS))

summary_south_carolina <- sc_df |>
  arrange(desc(MIN)) |>
  slice(1:10) |>
  summarize(points_avg = mean(PTS))

combined_summary <- bind_rows(
  mutate(summary_iowa, Team = "Iowa"),
  mutate(summary_south_carolina, Team = "South Carolina")) |>
  pander()
```

As we can see from the table above, on average Iowa has barely one more point per game compared to South Carolina, which isn't much of a margin.

Now let's look at Field Goal percentage made for each team.

```{r}
summary_iowa2 <- iowa_df |> 
  arrange(desc(MIN)) |>
  slice(1:10) |>
  summarize(fg_made = mean(`FG%`))

summary_south_carolina2 <- sc_df |>
  arrange(desc(MIN)) |>
  slice(1:10) |>
  summarize(fg_made = mean(`FG%`))

combined_summary2 <- bind_rows(
  mutate(summary_iowa2, Team = "Iowa"),
  mutate(summary_south_carolina2, Team = "South Carolina")) |>
  pander()
```
From the table above, on average we see that Iowa again has a better number than South Carolina this time looking at % Field goals made on average, with a bigger margin this time of around 2% more. 

Lastly on the average stats by team, I want to look at free throw percentage, because in basketball free throws can be game winning and barely change the points per game average, simply because they are only worth one point. THis will give me insight to see if it came down to the wire in a game winning free throw, which tram would have the better assumed chance of making it. 

```{r}
summary_iowa3 <- iowa_df |> 
  arrange(desc(MIN)) |>
  slice(1:10) |>
  summarize(fg_made = mean(`FT%`))

summary_south_carolina3 <- sc_df |>
  arrange(desc(MIN)) |>
  slice(1:10) |>
  summarize(fg_made = mean(`FT%`))

combined_summary3 <- bind_rows(
  mutate(summary_iowa3, Team = "Iowa"),
  mutate(summary_south_carolina3, Team = "South Carolina")) |>
  pander()
```
From this we see both excellent percentages for free throws both above the 50% mark. Iowa is almost around 74% and South Carolina is closer to 67%. We can see that Iowa would have a better chance of making a free throw if it came down to the wire based on average team stats. 


attempting to add name column back to data set through excel
```{r}
#wbb_df <- read_csv(here("data/Final_wbb_df.csv"))
```






