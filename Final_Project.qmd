---
title: "Final project"
format: html
---

```{r}
library(tidyverse)
library(rvest)
library(here)
library(plotly)

url <- "https://www.ncaa.com/stats/basketball-women/d1/current/individual/102"

h <- read_html(url)

tab <- h |> html_nodes("table")
tab

wbb_df <- tab[[1]] |> html_table(fill = TRUE)

wbb_df

```

Variables in the dataset:

Rank: The rankings of highest points per game in descending order of the top 50 players
Name: Name of the player
Team: Name of the team the player is on
CL: Class Level (Fr., So., Jr., or Sr.)
Height: Height of the player
Position: (G - Guard, F - Forward, C - Center)
G: The number of games the player has played
FGM: Field Goals Made, the # of baskets each player has successfully scored on
3FG: 3 point field goals made by the athlete
FT: Free Throws made by the athlete
PTS: The number of total points scored by field goals per player
PPG: Average points per game scored by the player

Note: some of the players have "-" for rank, this means they have the same number of PPG as the person above them. 
The rank is only valid for PPG, all other stats are just extra included


Questions possible to explore: 
Maybe use another data set of viewership per year and see other connections for a part 2

Was Caitlin Clark the best player in the NCAA for Women's basketball in 2023-24 season?

What other girls on her team are on the top scoring list?

What is the comparison of girls on the USC team ppg stats compared to Iowa ppg stats?

Did this relate to the outcome of the national championship game?
(Iowa lost to USC)

Conclusion: Even though Iowa lost while having the best player in the nation on their team, Iowa Women's basketball made a HUGE lasting impact on women's basketball and for women's sports in general. -> Find a source with attendance records and put that in conclusion

Visualizations: 
Histogram of ppg by player - maybe add plotly to see exact ppg


Something with total points


Does height correlate with ppg: scatter plot

Let's look at the top 15 scorers by descending points per game. 

```{r}
top_15 <- wbb_df |> slice(1:20) |>
  mutate(Name = fct_reorder(Name, PPG))

score_plot <- ggplot(data = top_15, aes(x = Name,
                                        y = PPG,
                                        label = PPG)) +
  geom_point(color = "brown4") +
  geom_segment(aes(x = Name, xend = Name, y = 0, yend = PPG), color="orange") +
  coord_flip() 

ggplotly(score_plot, tooltip = "label")
```

As we can see from this plot, Caitlin Clark dominates points per game statistics within the NCAA. Although the top 15 scorers are relatively close in value, Caitlin Clark has almost a 10 point margin from the next person behind her in points. This might not seem like much, but in the world of basketball, a 10 point difference in AVERAGE points per game is incredible and she is far above the pack for this. 

```{r}
wbb_df |> filter(Team == "Iowa")

wbb_df |> filter(Team == "Southern California")
```












